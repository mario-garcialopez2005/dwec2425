<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table,
        th,
        tr,
        td {
            border: solid black;
        }
    </style>
    <script>
        var listaLibros = [["It", "Stephen King", 1978],
        ["1984", "George Orwell", 1949],
        ["Revoluci칩n en la granja", "George Orwell", 1953]];
        var listaLibros2 = [];
        listaLibros2[0] = ["It", "Stephen King", 1978];
        listaLibros2[1] = ["1984", "George Orwell", 1949];
        listaLibros2[2] = ["Revoluci칩n en la granja", "George Orwell", 1953];
        var listaLibros3 = new Array();
        listaLibros3.push(["It", "Stephen King", 1978]);
        listaLibros3.push(["1984", "George Orwell", 1949]);
        listaLibros3.push(["Revoluci칩n en la granja", "George Orwell", 1953]);
        window.onload = () => {
            mostrarLibros(listaLibros);
        }
        function mostrarLibros(lista) {
            if (document.getElementById("tablaLibros")) {
                document.getElementById("tablaLibros").remove();
            }
            let codigoHTMLTabla = `<table id="tablaLibros">
                            <thead>
                                <tr><th><a href="javascript:ordenarPorTitulo()">Titulo</a></th><th>Autor</th><th>A침o</th></tr>
                            </thead>
                            <tbody>`;
            lista.forEach((libro, indice, array) => {
                codigoHTMLTabla += `<tr>
                                        <td>${libro[0]}</td>
                                        <td>${libro[1]}</td>
                                        <td>${libro[2]}</td>
                                    </tr>`

            })
            /*listaLibros.forEach((libro, indice, array) => {
                codigoHTMLTabla+=`<tr>`
                libro.forEach((campo,indice2, array2){
                    codigoHTMLTabla+=`<td>${campo}</td>`                        
                }
                codigoHTMLTabla+=`</tr>`        
            })*/
            codigoHTMLTabla += `</tbody>
                            </table>`
            document.body.insertAdjacentHTML("beforeend",codigoHTMLTabla);
        }
        function ordenarPorTitulo() {
            listaLibros.sort((a, b) => {
                if (a[0] > b[0]) return 1;
                else return -1;
            });
            mostrarLibros(listaLibros);
        }
        function filtrarPorTitulo(){
            let tituloABuscar=document.getElementById("titulo").value;
            var listaLibroFiltrada=listaLibros.filter((libro)=>libro[0].toLocaleLowerCase().includes(tituloABuscar.toLocaleLowerCase()));
            mostrarLibros(listaLibroFiltrada);
        }
    </script>
</head>

<body>
    <p>
        Filtrar: <input type="text" id="titulo" onkeyup="filtrarPorTitulo()">
        <button type="button" onclick="filtrarPorTitulo()">Buscar</button>
    </p>
</body>

</html>